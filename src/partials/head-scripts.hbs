{{#if (eq env.FORCE_HTTPS 'true')}}
  <script>(function(l,p){if(l.protocol!==p)l.protocol=p})(location,'https:')</script>
{{/if}}
<!--
    {{#if env.OPTANON_SCRIPT_URL}} -->
<!--      jquery is also loaded in the footer, don't load it twice.-->
      <!-- <script src="{{uiRootPath}}/js/vendor/jquery.js"></script> -->
      <script src="{{env.OPTANON_SCRIPT_URL}}"></script>
      <script>function OptanonWrapper(){}</script>
    {{/if}}
    <link rel="stylesheet" type="text/css" href="https://help-cloud-thoughtspot.netlify.app/_/css/site.css">
    <!-- <script>var uiRootPath = '{{{uiRootPath}}}'</script> -->
    <!-- <script src="https://unpkg.com/accordion-js@3.3.1/dist/accordion.min.js"></script> -->
    <script src="https://thoughtspot.github.io/js/index.js"></script>
    <!--<script src="https://thoughtspotscripts.ngrok.io/public/algolia/dist/algolia_search.bundled.js"></script>-->
<script src="https://scripts.thoughtspot.com/algolia_search.bundled.js"></script>

<script>
	let initialized = false;
	async function initializeAlgolia() {
		if (initialized) return;
		initialized = true;

		const searchElement = document.querySelector('#algolia-search')
		searchElement.style.boxSizing = 'border-box'
		document.body.classList.add('algolia_docs')
		searchElement.classList.add('algolia_docs')

		const pathParams = window.location.pathname.split('/').filter(Boolean)

		let deployment = ['software', 'cloud'].indexOf(pathParams[1]) > -1 ? pathParams[1] : null
		let version = pathParams[2] ? pathParams[2] : null

		let filters = { docs: {} }

		if (deployment) {
			filters.docs.deployment = deployment
		}

		if (version) {
			filters.docs.version = version
		}

		// INLINE
		const algoliaSearch = await new window.AlgoliaSearchComponent(searchElement, {
			inline: true,
			filters: filters,
			firstResults: 'docs',
			placeholderText: 'Search documentation, community, and training',
			startFocused: window.location.href.indexOf('index_help') > -1 ? true : false,
			filters: filters,
			hideViewMore: true,
			docsIndexName: 'crawler_thoughtspot_help'
		});

	}

	function awaitAlgolia() {
		if (window.AlgoliaSearchComponent) {
			initializeAlgolia();
		} else {
			window.addEventListener('algoliaReady', initializeAlgolia);
		}
	}

	if (document.readyState === 'complete') {
		awaitAlgolia()
	} else {
		document.addEventListener("DOMContentLoaded", awaitAlgolia);
	}

</script>
      <!--  <script>var vanillaModal = new VanillaModal.default()</script> -->
      <!--  <script>const modal = new VanillaModal(options);</script> -->
          <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script> -->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
              <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- <script src="https://thoughtspot.github.io/js/index.js"></script> -->
